<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üéâ Airdrop –£—á–∞—Å—Ç–∏–µ</title>
  <link rel="stylesheet" href="https://sp574-maker.github.io/maker/style.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="container">
    <h1 style="text-align:center;">üéØ –£—á–∞—Å—Ç–∏–µ –≤ Airdrop</h1>

    <!-- –ê–Ω—ñ–º–∞—Ü—ñ—è –∞–±–æ —ñ–∫–æ–Ω–∫–∞ -->
    <div style="text-align:center; margin: 20px;">
      <img src="https://cdn-icons-png.flaticon.com/512/3500/3500833.png" alt="airdrop" width="80" style="animation: popUp 0.5s ease;">
    </div>

    <!-- –ê–≤–∞—Ç–∞—Ä + –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
    <div class="card" style="text-align:center;">
      <img id="avatar" src="" alt="avatar" width="60" height="60" style="border-radius:50%; margin-bottom:10px; display:none;" />
      <p><strong>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> <span id="username">‚Äî</span></p>
      <p><strong>üÜî Telegram ID:</strong> <span id="userid">‚Äî</span></p>
      <p><strong>‚è∞ –í—Ä–µ–º—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> <span id="timestamp">‚Äî</span></p>
      <p style="margin-top:20px; color:limegreen;">
        ‚úÖ –í—ã —Å—Ç–∞–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–º Airdrop –∏ –ø–æ–ª—É—á–∏–ª–∏ <strong>100% –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—á–∞—Å—Ç–∏—è</strong> –≤ —Ä–æ–∑—ã–≥—Ä—ã—à–µ –Ω–∞–≥—Ä–∞–¥.
      </p>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div style="text-align:center; margin-top:30px;">
      <button onclick="shareAirdrop()">üì¢ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
      <button onclick="Telegram.WebApp.close()">üîö –ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <script>
    let tgUser = {};
    const now = new Date().toLocaleString();

    if (typeof Telegram !== "undefined" && Telegram.WebApp && Telegram.WebApp.initDataUnsafe.user) {
      // ‚úÖ WebApp –∑–∞–ø—É—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram
      Telegram.WebApp.ready();
      Telegram.WebApp.expand();

      tgUser = Telegram.WebApp.initDataUnsafe.user;

      // –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ localStorage
      localStorage.setItem("tg_user_id", tgUser.id);
      localStorage.setItem("tg_username", tgUser.username || "");
      localStorage.setItem("tg_name", tgUser.first_name || "");
      localStorage.setItem("tg_photo", tgUser.photo_url || "");
      localStorage.setItem("tg_timestamp", now);
    } else {
      // üåÄ fallback ‚Äî —á–∏—Ç–∞—î–º–æ –∑ localStorage
      tgUser.id = localStorage.getItem("tg_user_id") || "‚Äî";
      tgUser.username = localStorage.getItem("tg_username") || "‚Äî";
      tgUser.first_name = localStorage.getItem("tg_name") || "‚Äî";
      tgUser.photo_url = localStorage.getItem("tg_photo") || "";
    }

    // üìã –í–∏–≤—ñ–¥ —É DOM
    document.getElementById("username").textContent = tgUser.username || "‚Äî";
    document.getElementById("userid").textContent = tgUser.id || "‚Äî";
    document.getElementById("timestamp").textContent = localStorage.getItem("tg_timestamp") || now;

    // üñºÔ∏è –ê–≤–∞—Ç–∞—Ä
    if (tgUser.photo_url) {
      const avatar = document.getElementById("avatar");
      avatar.src = tgUser.photo_url;
      avatar.style.display = "inline-block";
    }

    // üì¢ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
    function shareAirdrop() {
      Telegram.WebApp.showPopup({
        title: "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è",
        message: "–Ø —Å—Ç–∞–ª —É—á–∞—Å—Ç–Ω–∏–∫–æ–º Airdrop —Å —à–∞–Ω—Å–æ–º 100% –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É!",
        buttons: [
          { id: "ok", type: "default", text: "–û–∫" }
        ]
      });
    }
  </script>
</body>
</html>
